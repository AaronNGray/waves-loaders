!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.BufferLoader=t()}}(function(){var t;return function e(t,n,r){function o(u,f){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!f&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e){"use strict";var n=t("native-promise-only");window.audioContext=window.audioContext||new AudioContext||new webkitAudioContext;var r=function(){function t(){this.progressCb=void 0}function e(){return this.progressCb}function r(t){this.progressCb=t}var o=Object.defineProperty;return Object.defineProperties(t.prototype,{progressCallback:{get:e,set:r,configurable:!0,enumerable:!0}}),o(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.prototype.load=function(t){return Array.isArray(t)?this.loadAll(t):this.loadBuffer(t)},t.prototype.loadBuffer=function(t){return this.fileLoadingRequest(t).then(this.decodeAudioData,function(t){throw t})},t.prototype.loadAll=function(t){for(var e=t.length,r=[],o=this,i=0;e>i;++i)r.push(this.fileLoadingRequest(t[i],i));return n.all(r).then(function(t){return n.all(t.map(function(t){return o.decodeAudioData(t)}))},function(t){throw t})},t.prototype.fileLoadingRequest=function(t,e){var r=this,o=new n(function(n,o){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200===i.status||304===i.status?n(i.response):o(new Error(i.statusText))},i.onprogress=function(t){r.progressCallback&&r.progressCallback(void 0!==e?{index:e,value:t.loaded/t.total}:t.loaded/t.total)},i.onerror=function(){o(new Error("Network Error"))},i.send()});return o},t.prototype.decodeAudioData=function(t){var e=new n(function(e,n){window.audioContext.decodeAudioData(t,function(t){e(t)},function(){n(new Error("DecodeAudioData error"))})});return e},t}();e.exports=r},{"native-promise-only":2}],2:[function(e,n){(function(e){!function(e,r,o){r[e]=r[e]||o(),"undefined"!=typeof n&&n.exports?n.exports=r[e]:"function"==typeof t&&t.amd&&t(function(){return r[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function t(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,r;return{add:function(o,i){r=new t(o,i),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var t=e;for(e=n=p=null;t;)t.fn.call(t.self),t=t.next}}}function e(t,e){y?(y=!1,t.call(e)):(h.add(t,e),p||(p=v(h.drain)))}function n(t){var e,n=typeof t;return null===t||"object"!==n&&"function"!==n||(e=t.then),"function"==typeof e?e:!1}function r(){var t,e,n,r=this;if(0===r.state)return y=!1;for(n=0;n<r.chain.length;n++)e=r.chain[n],t=1===r.state?e.success:e.failure,o(r,t,e);r.chain.length=0}function o(t,e,r){var o,i;try{e===!1?(y=!0,r.reject(t.msg)):(o=e===!0?t.msg:e.call(void 0,t.msg),y=!0,o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=n(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(u){y=!0,r.reject(u)}}function i(t){if(t.def){if(t.triggered)return y=!1;t.triggered=!0,t=t.def}return 0!==t.state?y=!1:t}function u(t){var o,c,a=i(this);if(a!==!1)try{(o=n(t))?(c=new s(a),o.call(t,function(){u.apply(c,arguments)},function(){f.apply(c,arguments)})):(a.msg=t,a.state=1,e(r,a))}catch(d){f.call(c||new s(a),d)}}function f(t){var n=i(this);n!==!1&&(n.msg=t,n.state=2,e(r,n))}function c(t,e){y=!0,t(e)}function a(t,e,n,r){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){n(o,t)},r)}(o)}function s(t){this.def=t,this.triggered=!1}function d(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=this,o=new d(n);n.then=function(t,n){var i={success:"function"==typeof t?t:!0,failure:"function"==typeof n?n:!1};return i.promise=new this.constructor(function(t,e){if("function"!=typeof(t&&e))throw TypeError("Not a function");i.resolve=t,i.reject=e}),o.chain.push(i),e(r,o),i.promise},n["catch"]=function(t){return o.promise.then.call(this,void 0,t)};try{t.call(void 0,function(t){return o.triggered?void(y=!1):(o.triggered=!0,void u.call(o,t))},function(t){return o.triggered?void(y=!1):(o.triggered=!0,void f.call(o,t))})}catch(i){f.call(o,i)}}var p,h,y=!1,v="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout,g=Object.defineProperty?function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:r!==!1})}:function(t,e,n){return t[e]=n,t};h=t();var w=g({},"constructor",l,!1);return g(l,"prototype",w,!1),g(w,"__NPO__",0,!1),g(l,"resolve",function(t){var n=this;return"object"==typeof t&&"__NPO__"in t?t:new n(function(n,r){if("function"!=typeof(n&&r))throw TypeError("Not a function");e(function(){c(n,t)})})}),g(l,"reject",function(t){return new this(function(e,n){if("function"!=typeof(e&&n))throw TypeError("Not a function");n(t)})}),g(l,"all",function(t){var e=this;return Array.isArray(t)?0===t.length?e.resolve([]):new e(function(n,r){if("function"!=typeof(n&&r))throw TypeError("Not a function");var o=t.length,i=Array(o),u=0;a(e,t,function(t,e){i[t]=e,++u===o&&c(n,i)},r)}):e.reject(TypeError("Not an array"))}),g(l,"race",function(t){var e=this;return Array.isArray(t)?new e(function(n,r){if("function"!=typeof(n&&r))throw TypeError("Not a function");a(e,t,function(t,e){c(n,e)},r)}):e.reject(TypeError("Not an array"))}),l})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});